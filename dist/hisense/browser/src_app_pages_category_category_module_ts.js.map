{"version":3,"file":"src_app_pages_category_category_module_ts.js","mappings":"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","sources":["./src/app/pages/category/category.component.ts","./src/app/pages/category/category.component.html","./src/app/pages/category/category.module.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit, ViewChildren } from '@angular/core';\r\nimport { DomSanitizer, Meta, Title } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { takeWhile } from 'rxjs';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { GlobalStateService } from 'src/app/services/global-state.service';\r\n\r\n@Component({\r\n  selector: 'app-category',\r\n  templateUrl: './category.component.html',\r\n  styleUrls: ['./category.component.scss']\r\n})\r\nexport class CategoryComponent implements OnInit,OnDestroy {\r\n\r\n  metaData: any;\r\n  alive = true;\r\n  show404 = false;\r\n  // fragment: any = '';\r\n  fallbackImg = 'https://www.hisense-india.com/wp-content/themes/hisense/images/tv/A6H.webp'\r\n\r\n  constructor(private route:ActivatedRoute,\r\n    private api: ApiService,\r\n    private state: GlobalStateService,\r\n    private title: Title,\r\n    private meta: Meta,\r\n    private router: Router,\r\n    public sanitizer: DomSanitizer,) {\r\n    this.state.mobileNavToggle.next(false);\r\n\r\n  }\r\n  \r\n  ngOnInit(): void {\r\n    // does not render when there is a update in params\r\n    // const category = this.route.snapshot.paramMap.get('category');\r\n    // console.log(category);\r\n\r\n    //renders when there is a update in params\r\n    this.route.params.pipe(takeWhile(_=>this.alive)).subscribe(routeParams => {\r\n      this.state.mobileNavToggle.next(false);\r\n      this.show404 = false;\r\n      this.loadMetaData(routeParams['category']);\r\n    });\r\n\r\n    // this.route.fragment.pipe(takeWhile(_=>this.alive)).subscribe((fragment) => {\r\n    //   // console.log(\"My hash fragment is here => \", fragment);\r\n    //   this.state.mobileNavToggle.next(false);\r\n    //   this.fragment = fragment;\r\n    // })\r\n    \r\n  }\r\n\r\n  loadMetaData(category: string){\r\n    this.api.getSlugData(category).pipe(takeWhile(_=>this.alive)).subscribe({\r\n      next: (res: any) => {\r\n        console.log(res);\r\n        res.data.cover_media = res.data.cover_media.map((obj: any)=>{\r\n          return {\r\n            ...obj,\r\n            sanatized_url: this.getVideoLink(obj.full_url)\r\n          }\r\n        })\r\n        this.metaData = res.data;\r\n        console.log(this.metaData)\r\n        this.seoTags(res.data.seo_info);\r\n        // if(this.fragment){\r\n        //   location.hash = '';\r\n        //   location.hash = \"#\" + this.fragment;\r\n        // }\r\n      },\r\n      error: (e) => {\r\n        console.log(e);\r\n        // this.router.navigate(['404']);\r\n        this.router.navigate(['']);\r\n        // this.show404 = true;\r\n      }\r\n    })\r\n  }\r\n\r\n  seoTags(data: any){\r\n    this.title.setTitle(data.title);\r\n    this.meta.updateTag({\r\n      name: 'description',\r\n      content: data.description\r\n    })\r\n    data.meta.forEach((obj: any)=>{\r\n      if(obj.attributes){\r\n        for(let key in obj.attributes){\r\n          this.meta.updateTag({\r\n            property: key,\r\n            content: obj.attributes[key]\r\n          })\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  getVideoLink(url: string) {\r\n    console.log(url);\r\n    url = url.split('?')[0] + '?autoplay=0&mute=0&showinfo=1&controls=1;';\r\n    console.log(url);\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n\r\n  load(){\r\n    console.log('loaded');\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this.alive = false;\r\n  }\r\n\r\n}\r\n","<ng-container *ngIf=\"!show404\">\r\n    <section class=\"catalog\" id=\"catalog-page\">\r\n        <!-- <div class=\"catalog-banner catalog-banner_ui_white\" data-ui-white=\"\" style=\"background-color: #000;\">\r\n            <div class=\"catalog-banner__content\">\r\n                <div class=\"catalog-banner__content-inner\">\r\n                    <h1 class=\"catalog-banner__title\">{{metaData?.name}}</h1>\r\n                    <h3 class=\"catalog-banner__sub__title\" *ngIf=\"metaData?.subcategories.length == 1\">{{metaData?.subcategories[0].name}}</h3>\r\n                </div>\r\n            </div>\r\n            <div class=\"catalog-banner__image-wrapper\">\r\n                <img [alt]=\"metaData?.name\" class=\"catalog-banner__image\" [src]=\"metaData?.thumb_image_medium.full_url\">\r\n            </div>\r\n        </div> -->\r\n        <div class=\"breadcrumb__yellow__banner\">\r\n            <h1>{{metaData?.name}}</h1>\r\n        </div>\r\n        <ng-container *ngIf=\"metaData?.cover_media[0]?.file_type == 'video'\">\r\n            <iframe allow=\"autoplay\" (load)=\"load()\" *ngFor=\"let media of metaData?.cover_media\" width=\"100%\"\r\n                height=\"655\" [src]=\"media?.sanatized_url\"></iframe>\r\n        </ng-container>\r\n    </section>\r\n\r\n    <div class=\"product-listing\" *ngIf=\"!metaData?.parent_category_id\">\r\n        <div class=\"product-listing-inner\" style=\"flex-wrap: wrap !important;width: 80% !important;margin: auto !important;\">\r\n            <a class=\"product-listing-tab\" style=\"min-width: 350px;width: auto !important;flex: 1;\" [routerLink]=\"prod.relative_url\" *ngFor=\"let prod of metaData?.subcategories\">\r\n                <a class=\"product-listing-img\" style=\"width: 100%;height: 150px;display: flex;justify-content: center;\r\n                align-items: center; overflow: visible;\">\r\n                    <img *ngIf=\"prod?.thumb_image?.full_url\" [src]=\"prod.thumb_image?.full_url\" style=\"max-height: 100px;max-width: 75% !important;\">\r\n                    <img *ngIf=\"!prod?.thumb_image?.full_url\" src=\"assets/images/prod__placeholder.png\" style=\"max-height: 100px;max-width: 75% !important;\">\r\n                </a>\r\n                <div style=\"margin-top: 40px;\">\r\n                    <div class=\"product-listing-tab-content\">\r\n                        <h4>{{prod.name}}</h4>\r\n                        <!-- <div class=\"product-listing-description\"></div> -->\r\n                    </div>\r\n                    <div><a class=\"btn-hisense-more\">More Detail</a></div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"product-listing\" *ngIf=\"!metaData?.parent_category_id\">\r\n        <div class=\"product-listing-inner\" style=\"flex-wrap: nowrap !important;width: 80%;margin: auto;\">\r\n            <div [id]=\"subCat.code\" *ngFor=\"let subCat of metaData?.subcategories\">\r\n                <a class=\"product-listing-tab\" [routerLink]=\"subCat.relative_url\" style=\"width: 100% !important;min-height: 350px !important;\">\r\n                    <a class=\"product-listing-img trackin\" style=\"overflow: visible !important;\">\r\n                        <img *ngIf=\"subCat?.thumb_image?.full_url\" [src]=\"subCat?.thumb_image?.full_url\">\r\n                        <img *ngIf=\"!subCat?.thumb_image?.full_url\" src=\"assets/images/prod__placeholder.png\">\r\n                    </a>\r\n                    <div style=\"margin-top: auto;\">\r\n                        <div class=\"product-listing-tab-content\">\r\n                            <h4>{{subCat.name}}</h4>\r\n                        </div>\r\n                        <div class=\"product-listing-tab-buttons trackin\" style=\"transform: translateY(35px);\">\r\n                            <div><a class=\"btn-hisense\">More Detail</a></div>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div> -->\r\n\r\n    <div class=\"product-listing\" style=\"padding: 1rem;\" *ngIf=\"metaData?.parent_category_id\">\r\n        <div [id]=\"subCat.code\" *ngFor=\"let subCat of metaData?.subcategories\">\r\n            <!-- <a class=\"sub__cat__link\" [routerLink]=\"subCat.relative_url\" *ngIf=\"metaData?.subcategories.length > 1\">{{subCat.name}}</a> -->\r\n            <div *ngFor=\"let prodCat of subCat.category_products\">\r\n                <div class=\"product__category__title\">{{prodCat.product.name}}</div>\r\n\r\n                <div class=\"product-listing-inner\">\r\n                    <a class=\"product-listing-tab\" [routerLink]=\"prod.relative_url\"\r\n                        *ngFor=\"let prod of prodCat.product.product_variants\">\r\n                        <a class=\"product-listing-img trackin\">\r\n                            <img *ngIf=\"prod?.thumb_image_medium?.full_url\" [src]=\"prod?.thumb_image_medium?.full_url\">\r\n                            <img *ngIf=\"!prod?.thumb_image_medium?.full_url\" src=\"assets/images/prod__placeholder.png\">\r\n                        </a>\r\n                        <div class=\"product-listing-tab-content\">\r\n                            <h4>{{prod.name}}</h4>\r\n                            <h3>{{prod.variant_size}}</h3>\r\n                            <div class=\"product-listing-description\"></div>\r\n                        </div>\r\n                        <div class=\"product-listing-tab-buttons trackin\" style=\"transform: translateY(35px);\">\r\n                            <div><a class=\"btn-hisense\">More Detail</a></div>\r\n                        </div>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div style=\"padding: 1rem;\" *ngFor=\"let prodCat of metaData?.category_products\">\r\n            <div class=\"product__category__title\">{{prodCat.product.name}}</div>\r\n\r\n            <div class=\"product-listing-inner\">\r\n                <a class=\"product-listing-tab\" [routerLink]=\"prod.relative_url\"\r\n                    *ngFor=\"let prod of prodCat.product.product_variants\">\r\n                    <a class=\"product-listing-img trackin\">\r\n                        <img *ngIf=\"prod?.thumb_image_medium?.full_url\" [src]=\"prod?.thumb_image_medium?.full_url\">\r\n                        <img *ngIf=\"!prod?.thumb_image_medium?.full_url\" src=\"assets/images/prod__placeholder.png\">\r\n                    </a>\r\n                    <div class=\"product-listing-tab-content\">\r\n                        <h4>{{prod.name}}</h4>\r\n                        <h3>{{prod.variant_size}}</h3>\r\n                        <div class=\"product-listing-description\"></div>\r\n                    </div>\r\n                    <div class=\"product-listing-tab-buttons trackin\" style=\"transform: translateY(35px);\">\r\n                        <div><a class=\"btn-hisense\">More Detail</a></div>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ng-container>\r\n\r\n<ng-container *ngIf=\"show404\">\r\n    <app-not-found></app-not-found>\r\n</ng-container>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CategoryComponent } from './category.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', component: CategoryComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CategoryComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class CategoryModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}