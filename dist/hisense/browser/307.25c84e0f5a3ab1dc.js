"use strict";(self.webpackChunkhisense=self.webpackChunkhisense||[]).push([[307],{5307:(I,m,p)=>{p.r(m),p.d(m,{SpinnerModule:()=>M});var d=p(9808);function f(e,r,n,i,o,u,l){try{var h=e[u](l),a=h.value}catch(A){return void n(A)}h.done?r(a):Promise.resolve(a).then(i,o)}var t=p(1223),s=p(655),c=(()=>{return(e=c||(c={})).INNER="inner",e.OUTER="outer",e.CENTER="center",c;var e})(),g=(()=>{return(e=g||(g={})).HORIZONTAL="horizontal",e.VERTICAL="vertical",e.CURVED="curved",g;var e})();let w=(()=>{let e=class{constructor(){this.onSpinStart=new t.vpe,this.onSpinComplete=new t.vpe,this.completedSpin=!1,this.isSpinning=!1}reset(){this.wheel.stopAnimation(!1),this.wheel.rotationAngle=0,this.wheel.ctx.clearRect(0,0,this.wheel.ctx.canvas.width,this.wheel.ctx.canvas.height),this.isSpinning=!1,this.completedSpin=!1,this.ngAfterViewInit()}ngOnInit(){}spin(){if(this.completedSpin||this.isSpinning)return;this.isSpinning=!0,this.onSpinStart.emit(null);const n=this.wheel.segments.filter(o=>!!o).find(({id:o})=>this.idToLandOn===o);this.wheel.animation.stopAngle=n.endAngle-(n.endAngle-n.startAngle)/4,this.wheel.startAnimation(),setTimeout(()=>{this.completedSpin=!0,this.onSpinComplete.emit(null)},1e3*this.spinDuration)}ngAfterViewInit(){const n=this.items;this.wheel=new Winwheel({numSegments:n.length,segments:n,innerRadius:this.innerRadius||0,outerRadius:this.height/2-20,centerY:this.height/2+20,textOrientation:this.textOrientation,textAligment:this.textAlignment,animation:{type:"spinToStop",duration:this.spinDuration,spins:this.spinAmount}}),TweenMax.ticker.addEventListener("tick",this.drawPointer.bind(this))}ngOnDestroy(){TweenMax.ticker.removeEventListener("tick")}drawPointer(){let n=this.wheel.ctx;n&&(n.save(),n.lineWidth=2,n.strokeStyle=this.pointerStrokeColor,n.fillStyle=this.pointerFillColor,n.beginPath(),n.moveTo(this.width/2-20,2),n.lineTo(this.width/2+20,2),n.lineTo(this.width/2,42),n.lineTo(this.width/2-20,2),n.stroke(),n.fill(),n.restore())}};return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ngx-wheel"]],inputs:{height:"height",idToLandOn:"idToLandOn",width:"width",items:"items",spinDuration:"spinDuration",spinAmount:"spinAmount",innerRadius:"innerRadius",pointerStrokeColor:"pointerStrokeColor",pointerFillColor:"pointerFillColor",disableSpinOnClick:"disableSpinOnClick",textOrientation:"textOrientation",textAlignment:"textAlignment"},outputs:{onSpinStart:"onSpinStart",onSpinComplete:"onSpinComplete"},decls:2,vars:2,consts:[["id","canvas",3,"width","height","click"]],template:function(n,i){1&n&&(t.TgZ(0,"canvas",0),t.NdJ("click",function(){return!i.disableSpinOnClick&&i.spin()}),t._uU(1," \xa0\xa0\xa0\xa0Canvas not supported, use another browser. "),t.qZA()),2&n&&t.Q6J("width",i.width)("height",i.height)},encapsulation:2}),(0,s.gn)([(0,t.IIB)()],e.prototype,"height",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"idToLandOn",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"width",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"items",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"spinDuration",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"spinAmount",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"innerRadius",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"pointerStrokeColor",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"pointerFillColor",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"disableSpinOnClick",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"textOrientation",void 0),(0,s.gn)([(0,t.IIB)()],e.prototype,"textAlignment",void 0),(0,s.gn)([(0,t.r_U)()],e.prototype,"onSpinStart",void 0),(0,s.gn)([(0,t.r_U)()],e.prototype,"onSpinComplete",void 0),e})(),x=(()=>{let e=class{};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[]]}),e})();const C=["myaudio"];function v(e,r){if(1&e){const n=t.EpF();t.O4$(),t.kcU(),t.ynx(0),t.TgZ(1,"ngx-wheel",12),t.NdJ("onSpinStart",function(){return t.CHM(n),t.oxw(2).before()})("onSpinComplete",function(){return t.CHM(n),t.oxw(2).after()}),t.qZA(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("width",n.width)("height",n.height)("spinDuration",8)("items",n.items)("innerRadius",20)("spinAmount",10)("textOrientation",n.textOrientation)("textAlignment",n.textAlignment)("pointerFillColor","rgba(59,130,246,0.5)")("idToLandOn",n.idToLandOn)}}function S(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"h1"),t._uU(2,"Wheel of Fortune"),t.qZA(),t.TgZ(3,"h3"),t._uU(4,"Try your luck by participating below"),t.qZA(),t.TgZ(5,"div",6)(6,"div",7),t.NdJ("click",function(){return t.CHM(n),t.oxw().spin()}),t.TgZ(7,"div",8)(8,"button",9),t.O4$(),t.TgZ(9,"svg",10),t._UZ(10,"path",11),t.qZA()()()(),t.YNc(11,v,2,10,"ng-container",2),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(11),t.Q6J("ngIf",n.width&&n.height)}}const y=function(e){return{"is-loading":e}};let O=(()=>{class e{constructor(n){this.platformId=n,this.seed=[...Array(12).keys()],this.items=[],this.textOrientation=g.HORIZONTAL,this.textAlignment=c.OUTER,this.imageLoading=!0,(0,d.NF)(this.platformId)&&(window.innerWidth<=768?(this.height=400,this.width=400):(this.height=500,this.width=500))}ngOnInit(){this.idToLandOn=this.seed[Math.floor(Math.random()*this.seed.length)];const n=["rgb(141,1,248)","rgb(202,1,111)","rgb(251,53,1)","rgb(252,158,2)","rgb(254,129,3)","rgb(98,197,47)","rgb(7,96,237)","rgb(44,19,248)"];this.items=this.seed.map((i,o)=>({fillStyle:n[o]?n[o]:n[o-n.length],text:`Prize ${i}`,id:i,textFillStyle:"white",textFontSize:"16"}))}ngAfterViewInit(){}reset(){this.wheel.reset()}before(){}spin(n){var i=this;return function _(e){return function(){var r=this,n=arguments;return new Promise(function(i,o){var u=e.apply(r,n);function l(a){f(u,i,o,l,h,"next",a)}function h(a){f(u,i,o,l,h,"throw",a)}l(void 0)})}}(function*(){i.idToLandOn=n||i.seed[Math.floor(Math.random()*i.seed.length)],yield new Promise(o=>setTimeout(o,0)),i.wheel.spin()})()}after(){this.audio.nativeElement.play(),setTimeout(()=>{alert(`Congratulations you have won Prize ${this.seed[this.idToLandOn]}`)},750),setTimeout(()=>{this.wheel.reset(),this.idToLandOn=this.seed[Math.floor(Math.random()*this.seed.length)]},1e3)}imageLoaded(){this.imageLoading=!1}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.Lbi))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-spinner"]],viewQuery:function(n,i){if(1&n&&(t.Gf(w,5),t.Gf(C,5)),2&n){let o;t.iGM(o=t.CRH())&&(i.wheel=o.first),t.iGM(o=t.CRH())&&(i.audio=o.first)}},decls:7,vars:4,consts:[[1,"page__wrapper","card",3,"ngClass"],["src","../../../assets/party.jpg",2,"display","none",3,"load"],[4,"ngIf"],["id","myAudio"],["myaudio",""],["src","../../../assets/audio/mixkit-fantasy-game-success-notification-270.wav","type","audio/ogg"],[1,"spinner__wrapper"],[1,"icon",3,"click"],[1,"absolute","spin-btn-wrap"],["type","button",1,"aha-button","spinner-wheel-spin-button","spin-btn","aha-button-xs","aha-button-primary"],["width","40","height","40","fill","none","xmlns","http://www.w3.org/2000/svg","name","play","viewBox","0 0 22 24",1,"path-fill-current","inline-block"],["d","M19.669 10.385L6.199 2.257c-1.094-.66-2.77-.02-2.77 1.613v16.253c0 1.465 1.557 2.348 2.77 1.613l13.47-8.124c1.201-.723 1.205-2.504 0-3.227z","fill","#fff"],["Roulette","","pointerStrokeColor","white",3,"width","height","spinDuration","items","innerRadius","spinAmount","textOrientation","textAlignment","pointerFillColor","idToLandOn","onSpinStart","onSpinComplete"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"img",1),t.NdJ("load",function(){return i.imageLoaded()}),t.qZA(),t.YNc(2,S,12,1,"ng-container",2),t.qZA(),t.TgZ(3,"audio",3,4),t._UZ(5,"source",5),t._uU(6," Your browser does not support the audio element.\n"),t.qZA()),2&n&&(t.Q6J("ngClass",t.VKq(2,y,i.imageLoading)),t.xp6(2),t.Q6J("ngIf",!i.imageLoading))},directives:[d.mk,d.O5,w],styles:[".page__wrapper[_ngcontent-%COMP%]{height:calc(100vh - 80px);width:100% w;background-image:url(party.30dbb92067022a3d.jpg);background-size:cover;display:flex;justify-content:center;align-items:center;color:#fff;flex-direction:column;text-align:center}.page__wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:54px;margin-bottom:24px;font-weight:700}.page__wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.spinner__wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.spinner__wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer;position:absolute;border-radius:50%;top:47.65%;left:45%}.spin-btn-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:60px;width:60px;cursor:pointer;border-radius:50%;background:#fff;border:3.2px solid #eff1f7;box-shadow:0 7.15653px 0 1.78913px #00000021}.absolute[_ngcontent-%COMP%]{position:absolute}.spin-btn[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#348ef6;border:none;display:flex;cursor:pointer;justify-content:center;align-items:center}svg[_ngcontent-%COMP%]{cursor:pointer}.spinner-wheel-spin-button[_ngcontent-%COMP%]{min-width:0;padding:0;border-radius:100%}@media screen and (max-width: 768px){.spinner__wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:48.45%;left:44%}svg[_ngcontent-%COMP%]{width:30px!important;height:30px!important}.spin-btn-wrap[_ngcontent-%COMP%]{height:50px;width:50px}.spin-btn[_ngcontent-%COMP%]{width:40px;height:40px}}"]}),e})();var b=p(1590);const T=[{path:"",component:O}];let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,x,b.Bz.forChild(T)]]}),e})()}}]);