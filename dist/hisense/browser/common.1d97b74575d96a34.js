"use strict";(self.webpackChunkhisense=self.webpackChunkhisense||[]).push([[592],{1395:(c,u,h)=>{h.d(u,{G7:()=>d,H:()=>l,sg:()=>a,xr:()=>p});var i=h(655),n=h(1223),l=(()=>{return(e=l||(l={})).INNER="inner",e.OUTER="outer",e.CENTER="center",l;var e})(),p=(()=>{return(e=p||(p={})).HORIZONTAL="horizontal",e.VERTICAL="vertical",e.CURVED="curved",p;var e})();let d=(()=>{let e=class{constructor(){this.onSpinStart=new n.vpe,this.onSpinComplete=new n.vpe,this.completedSpin=!1,this.isSpinning=!1}reset(){this.wheel.stopAnimation(!1),this.wheel.rotationAngle=0,this.wheel.ctx.clearRect(0,0,this.wheel.ctx.canvas.width,this.wheel.ctx.canvas.height),this.isSpinning=!1,this.completedSpin=!1,this.ngAfterViewInit()}ngOnInit(){}spin(){if(this.completedSpin||this.isSpinning)return;this.isSpinning=!0,this.onSpinStart.emit(null);const t=this.wheel.segments.filter(r=>!!r).find(({id:r})=>this.idToLandOn===r);this.wheel.animation.stopAngle=t.endAngle-(t.endAngle-t.startAngle)/4,this.wheel.startAnimation(),setTimeout(()=>{this.completedSpin=!0,this.onSpinComplete.emit(null)},1e3*this.spinDuration)}ngAfterViewInit(){const t=this.items;this.wheel=new Winwheel({numSegments:t.length,segments:t,innerRadius:this.innerRadius||0,outerRadius:this.height/2-20,centerY:this.height/2+20,textOrientation:this.textOrientation,textAligment:this.textAlignment,animation:{type:"spinToStop",duration:this.spinDuration,spins:this.spinAmount}}),TweenMax.ticker.addEventListener("tick",this.drawPointer.bind(this))}ngOnDestroy(){TweenMax.ticker.removeEventListener("tick")}drawPointer(){let t=this.wheel.ctx;t&&(t.save(),t.lineWidth=2,t.strokeStyle=this.pointerStrokeColor,t.fillStyle=this.pointerFillColor,t.beginPath(),t.moveTo(this.width/2-20,2),t.lineTo(this.width/2+20,2),t.lineTo(this.width/2,42),t.lineTo(this.width/2-20,2),t.stroke(),t.fill(),t.restore())}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-wheel"]],inputs:{height:"height",idToLandOn:"idToLandOn",width:"width",items:"items",spinDuration:"spinDuration",spinAmount:"spinAmount",innerRadius:"innerRadius",pointerStrokeColor:"pointerStrokeColor",pointerFillColor:"pointerFillColor",disableSpinOnClick:"disableSpinOnClick",textOrientation:"textOrientation",textAlignment:"textAlignment"},outputs:{onSpinStart:"onSpinStart",onSpinComplete:"onSpinComplete"},decls:2,vars:2,consts:[["id","canvas",3,"width","height","click"]],template:function(t,o){1&t&&(n.TgZ(0,"canvas",0),n.NdJ("click",function(){return!o.disableSpinOnClick&&o.spin()}),n._uU(1," \xa0\xa0\xa0\xa0Canvas not supported, use another browser. "),n.qZA()),2&t&&n.Q6J("width",o.width)("height",o.height)},encapsulation:2}),(0,i.gn)([(0,n.IIB)()],e.prototype,"height",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"idToLandOn",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"width",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"items",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"spinDuration",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"spinAmount",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"innerRadius",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"pointerStrokeColor",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"pointerFillColor",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"disableSpinOnClick",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"textOrientation",void 0),(0,i.gn)([(0,n.IIB)()],e.prototype,"textAlignment",void 0),(0,i.gn)([(0,n.r_U)()],e.prototype,"onSpinStart",void 0),(0,i.gn)([(0,n.r_U)()],e.prototype,"onSpinComplete",void 0),e})(),a=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[]]}),e})()},2529:(c,u,h)=>{h.d(u,{o:()=>l});var i=h(4482),n=h(5403);function l(p,d=!1){return(0,i.e)((a,e)=>{let s=0;a.subscribe((0,n.x)(e,t=>{const o=p(t,s++);(o||d)&&e.next(t),!o&&e.complete()}))})}},5861:(c,u,h)=>{function i(l,p,d,a,e,s,t){try{var o=l[s](t),r=o.value}catch(g){return void d(g)}o.done?p(r):Promise.resolve(r).then(a,e)}function n(l){return function(){var p=this,d=arguments;return new Promise(function(a,e){var s=l.apply(p,d);function t(r){i(s,a,e,t,o,"next",r)}function o(r){i(s,a,e,t,o,"throw",r)}t(void 0)})}}h.d(u,{Z:()=>n})}}]);